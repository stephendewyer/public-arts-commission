<script lang="ts">
    export let tabPanels: tabPanels[];
    export let activeTab: number;

</script>
<ul class="tabs_container">
    {#each tabPanels as tab, i}
        <li 
            class={activeTab === tab.index ? "active_tab" : "tab"}
            on:click={() => activeTab = tab.index} 
            on:keydown={() => activeTab = tab.index}
            id="tabpanel_header_{tab.label}"
            role="tab"
            aria-selected={activeTab === i ? true : false}
            aria-controls="{tab.label}_tabpanel"
            tabindex={-i}
        >
            {#if tab.hasCapitol}
                <div class={activeTab === tab.index ? "capitolIcon_active" : "capitolIcon"}>
                    <svg 
                        id="Layer_1" 
                        data-name="Layer 1" 
                        xmlns="http://www.w3.org/2000/svg" 
                        viewBox="0 0 345.8 489.34"
                    >
                        <defs>
                            <style>
                            .cls-8 {
                                fill: inherit;
                            }
                            </style>
                        </defs>
                        <path class="cls-8" d="m58.76,484.36c-.12,2.03-.2,3.3-.3,4.98-17.24-.26-34.28-.52-50.78-.77-2.37-3.52-4.41-6.69-6.59-9.75-1.14-1.59-1.29-3.17-.88-4.7,1.69-1.68,4.17.08,5.65-2.36.86-1.41,3.36-1.92,5.21-2.61,1.77-.65,3.66-1,5.5-1.49,1.5-.4,3-.8,4.69-1.26-.44-1.29-.65-2.14-1.01-2.92-1.15-2.56-.96-4.99,1.14-6.89,2.31-2.09,2.79-4.6,2.78-7.54-.08-14.15,0-28.3-.08-42.46-.01-2.33-.58-4.65-.82-6.98-.15-1.45-.52-3-.2-4.36.68-2.87-.14-5.13-1.78-7.42-2.2-3.07-3.53-6.62-2.94-10.39.35-2.22,1.68-4.3,2.66-6.4,1.17-2.5,2.72-4.87,3.55-7.48.52-1.64,1.41-2.66,2.41-3.94,4.31-5.47,11.34-6.55,16.46-10.62.96-.77,2.23-1.8,2.37-2.85.8-5.96,1.44-11.96,1.88-17.96.34-4.67-.9-9.05-3.28-13.11-.74-1.27-1.39-2.6-1.96-3.96-2.72-6.49-1.59-11.98,3.43-16.96.63-.62,1.26-1.26,1.98-1.76,2.79-1.96,4.42-4.35,4.65-8.01.18-2.98,1.77-5.5,3.86-8.07,2.43-2.98,5.4-4.8,8.21-7.06,1.24-1,2.09-2.82,2.52-4.43,3.04-11.38,5.27-23.02,9.04-34.15,3.55-10.45,9.32-19.91,16.41-28.59,9.86-12.07,21.46-21.84,35.36-28.84,3.92-1.97,5.13-5.29,4.67-9.14-.38-3.16.66-4.92,3.27-6.45,3.02-1.76,5.9-3.81,8.63-5.99.84-.67,1.5-2.25,1.38-3.32-.36-3.28.27-5.92,2.53-8.53,1.31-1.52,2-4,2.07-6.08.25-7.07.44-14.17-.02-21.21-.23-3.58-1.82-7.09-2.9-10.59-.48-1.54-1.33-2.96-1.83-4.5-1.33-4.07-.4-7.5,3.38-9.46,4.29-2.22,6.67-5.5,8.02-9.96.45-1.49,1.36-3.06,2.51-4.06,3.74-3.26,4.83-7.48,4.12-12.01-.72-4.61-.14-8.66,2.31-12.66,1.8-2.93,1.77-6.03-.16-9.19-.92-1.51-1.01-3.58-1.31-5.42-.3-1.86.11-4.02-.69-5.59-1.77-3.51-.92-6.67.64-9.72,1.58-3.09,2.64-6.04,2.18-9.68-.49-3.86,2.39-8.29,5.82-9.7.35,1.09.74,2.13,1.01,3.2.76,2.97.96,6.17,3.58,8.35.21.18.38.48.44.75,1.22,4.98,2.54,9.94,3.58,14.95.45,2.16-.37,4.21-1.16,6.36-2.17,5.84-3.75,11.85.29,17.71,1.95,2.84,2.02,5.91,1.29,9.3-1.06,4.96-.36,9.54,3.78,13.32,1.75,1.6,2.99,4.05,3.78,6.35.99,2.86,2.55,4.92,5.24,6.18.4.19.78.41,1.16.65,4.91,3.08,6.22,7.23,3.63,12.49-3.44,7-5.39,14.25-4.89,22.12.22,3.52.05,7.07.09,10.61.03,2.59.66,5.01,2.58,6.85,2.57,2.47,3.51,5.43,2.73,8.84-.5,2.19.45,3.07,2.23,4.09,3.4,1.96,6.65,4.22,9.78,6.6.72.55.81,2.04,1.01,3.13.39,2.15.59,4.33,1,6.47.48,2.5,2.08,4.09,4.34,5.22,14.77,7.42,26.88,18.08,36.68,31.26,3.94,5.29,6.98,11.25,10.41,16.91,5.36,8.84,7,18.96,9.74,28.69,1.28,4.53,2.3,9.14,3.29,13.75.6,2.8,2.25,4.57,4.51,6.22,3.06,2.22,6.25,4.53,8.5,7.48,1.56,2.04,2.05,5.2,2.25,7.91.19,2.61,1.04,4.36,3.05,5.96,2.06,1.64,3.98,3.53,5.63,5.58,2.88,3.61,3.42,7.73,1.73,12.07-.37.96-.67,2-1.27,2.82-4.64,6.43-4.7,13.82-4.4,21.23.19,4.69.76,9.37,1.18,14.33,4.18,2.13,8.52,4.26,12.79,6.54,1.25.66,2.31,1.68,3.42,2.59,3.7,3.05,6.21,6.86,7.43,11.53.21.81.85,1.56,1.42,2.22,4.23,4.83,3.97,10.07.84,15.12-2.1,3.4-3.88,6.57-2.58,10.67.13.4.06.9-.05,1.32-2.33,9-1.35,18.18-1.48,27.3-.12,8.25,0,16.51-.04,24.77-.01,1.97.07,3.84,1.75,5.21,3.15,2.57,3.31,5.67,1.65,9.12-.25.52-.32,1.12-.63,2.24,2.14.61,4.21,1.18,6.26,1.79,2.81.83,6.31.94,8.24,2.73,2.26,2.09,4.71,2.23,7.14,2.76.82,2.33-.05,3.93-1.53,5.32-2.63,2.5-4.61,5.32-4.54,9.43h-52.06c-.52-4.05-3.3-4.23-6.69-4.11-10.01.34-20.03.46-30.05.51-2.01,0-4.13-.41-6.02-1.12-21.93-8.24-43.86-16.5-65.71-24.94-4.11-1.59-7.75-1.73-11.91-.11-17.7,6.93-35.5,13.6-53.26,20.34-4.27,1.62-8.51,3.35-12.86,4.72-2.35.74-4.91,1.12-7.37,1.11-9.58-.04-19.15-.3-28.73-.46-1.89-.03-3.78,0-6,0Zm-18.7-74.62c-1.48,3.9-1.64,33.67-.38,37.55,1.61.33,2.52-.53,2.88-1.95.36-1.42.67-2.89.69-4.34.07-8.1.04-16.2.06-24.3,0-2.65-1.1-4.75-3.24-6.96Zm265.68,2.35c-3.25,0-3.51,1.96-3.51,4.13,0,8.36-.02,16.72.06,25.08.01,1.44.31,2.92.74,4.3.38,1.2,1.24,2.01,2.71,1.15v-34.66Z"/>
                    </svg>
                </div>
            {/if}
            {tab.label}
        </li>
    {/each}
</ul>

<style>
    .tabs_container {
        display: flex;
        list-style: none;
        margin: 0;
        padding: 0;
    }

    .tab {
        color: #212121;
        opacity: 50%;
        cursor: pointer;
        background-color: transparent;
        border: none;
        font-size: 1.5rem;
        font-weight: 600;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 0 1rem;
        transition: color 0.2s linear, opacity 0.2s linear;
    }

    .tab:hover {
        color: #28387C;
        opacity: 100%;
    }

    .active_tab {
        color: #4C4239;
        opacity: 100%;
        cursor: pointer;
        background-color: transparent;
        border: none;
        font-size: 1.5rem;
        font-weight: 600;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 0 1rem;
    }

    .active_tab::after {
		--size: 6px;
		content: '';
		height: 0;
		position: relative;
		top: 0;
		left: 0;
		right: 0;
        width: 100%;
		border: var(--size) solid transparent;
		border-top: 6px solid #4C4239;
		overflow: visible;
	}

    .capitolIcon {
        width: 100%;
        max-width: 4rem;
        fill: #4C4239;
        transition: fill 0.2s linear;
    }

    .capitolIcon:hover {
        fill: #28387C;
    }

    .capitolIcon_active {
        width: 100%;
        max-width: 4rem;
        fill: #4C4239;
        transition: fill 0.2s linear;
    }

    @media (max-width: 1440px) {
        .active_tab {
            font-size: 1.35rem;
        }

        .tab {
            font-size: 1.35rem;
        }
      }
  
      @media (max-width: 720px) {
        .active_tab {
            font-size: 1rem;
        }

        .tab {
            font-size: 1rem;
            padding: 0 0.5rem;
        }

        .active_tab {
            font-size: 1rem;
            padding: 0 0.5rem;
        }

        .capitolIcon {
            max-width: 2rem;
        }

        .capitolIcon_active {
            max-width: 2rem;
        }
      }

</style>